{"mappings":"AAAA,MAAMA,EAAKC,IACT,IAAIC,EAAaC,EAAKC,EAAKC,EAAOC,EAAOC,EAEzCN,EAAEO,QAAU,KACVF,EAAQL,EAAEQ,UAAU,uBACpBP,EAAcD,EAAES,WAAW,oBAAqB,mBAChDP,EAAMF,EAAEU,UAAU,kBAClBN,EAAQJ,EAAEU,UAAU,mBAGtBV,EAAEW,MAAQ,KACNC,QAAUC,SAASC,cAAc,aACjCF,QAAQG,iBAAiB,SAAS,KAChCF,SAASG,KAAKC,UAAUC,IAAI,cAC1Bb,EAAMc,MAAI,IAGdnB,EAAEoB,aAAa,GACfpB,EAAEqB,aAAarB,EAAEsB,YAAatB,EAAEuB,aAAcvB,EAAEwB,OAEhDlB,EAAYO,SAASC,cAAc,eACnCR,EAAUS,iBAAiB,SAAS,KAClCT,EAAUW,UAAUQ,OAAO,cAC3BC,KAAKC,aAAW,IAGlBxB,EAAM,IAAIyB,GAAGC,IACb7B,EAAE8B,OAAO7B,GAETA,EAAY8B,WAAW,eAAgB,CAAC/B,EAAEsB,YAAatB,EAAEuB,eACzDtB,EAAY8B,WAAW,QAAS3B,GAChCH,EAAY8B,WAAW,YAAa7B,GACpCD,EAAY8B,WAAW,gBAAiB,CAAC7B,EAAI8B,MAAO9B,EAAI+B,QAAO,EAGnEjC,EAAEkC,KAAO,KACP/B,EAAIgC,UAEJ,MAAMC,EAAUjC,EAAIkC,UAAU,QACxBC,EAAUnC,EAAIkC,UAAU,UACxBE,EAAUpC,EAAIkC,UAAU,OAExBG,EAAcxC,EAAEyC,IAAIL,EAAM,EAAG,IAAK,EAAG,IACrCM,EAAc1C,EAAEyC,IAAIH,EAAQ,EAAG,IAAK,EAAG,GACvCK,EAAc3C,EAAEyC,IAAIF,EAAK,EAAG,IAAK,EAAK,IAE5CtC,EAAY8B,WAAW,SAAU/B,EAAE4C,WAAa,IAChD3C,EAAY8B,WAAW,SAAUS,GACjCvC,EAAY8B,WAAW,YAAaW,GACpCzC,EAAY8B,WAAW,QAASY,GAEhC3C,EAAE6C,KAAK,EAAE,EAAG7C,EAAEgC,MAAOhC,EAAEiC,OAAM,EAG/BjC,EAAE8C,cAAgB,KAChB9C,EAAE+C,aAAa/C,EAAEsB,YAAatB,EAAEuB,cAChCtB,EAAY8B,WAAW,eAAgB,CAAC/B,EAAEsB,YAAatB,EAAEuB,cAAa,EAGxEI,YAAc,KACRtB,EAAM2C,YACR3C,EAAM4C,QAEN5C,EAAMc,MAAI,CAEd,EAGF,IAAIS,GAAG7B","sources":["src/js/demo8.js"],"sourcesContent":["const s = (p) => {\r\n  let demo8Shader, img, fft, d_map, audio, toggleBtn\r\n\r\n  p.preload = () => {\r\n    audio = p.loadSound('audio/demo9.mp3?a=1')\r\n    demo8Shader = p.loadShader('shaders/base.vert', 'shaders/d2.frag')\r\n    img = p.loadImage('img/11.png?a=1')\r\n    d_map = p.loadImage('img/clouds.jpg')\r\n  }\r\n\r\n  p.setup = () => {\r\n      playBtn = document.querySelector('#play-btn')\r\n      playBtn.addEventListener('click', () => {\r\n        document.body.classList.add('start-anim')\r\n          audio.loop()\r\n      })\r\n\r\n      p.pixelDensity(1)\r\n      p.createCanvas(p.windowWidth, p.windowHeight, p.WEBGL)\r\n\r\n      toggleBtn = document.querySelector('#toggle-btn')\r\n      toggleBtn.addEventListener('click', () => {\r\n        toggleBtn.classList.toggle('toggle--on')\r\n        this.toggleAudio()\r\n      })\r\n\r\n      fft = new p5.FFT()\r\n      p.shader(demo8Shader)\r\n\r\n      demo8Shader.setUniform('u_resolution', [p.windowWidth, p.windowHeight])\r\n      demo8Shader.setUniform('d_map', d_map)\r\n      demo8Shader.setUniform('u_texture', img)\r\n      demo8Shader.setUniform('u_tResolution', [img.width, img.height])\r\n  }\r\n\r\n  p.draw = () => {\r\n    fft.analyze()\r\n\r\n    const bass    = fft.getEnergy(\"bass\")\r\n    const treble  = fft.getEnergy(\"treble\")\r\n    const mid     = fft.getEnergy(\"mid\")\r\n\r\n    const mapBass     = p.map(bass, 0, 255, 5, 10.0)\r\n    const mapTremble  = p.map(treble, 0, 255, 0, 0.0)\r\n    const mapMid      = p.map(mid, 0, 255, 0.0, 0.1)\r\n\r\n    demo8Shader.setUniform('u_time', p.frameCount / 20)\r\n    demo8Shader.setUniform('u_bass', mapBass)\r\n    demo8Shader.setUniform('u_tremble', mapTremble)\r\n    demo8Shader.setUniform('u_mid', mapMid)\r\n\r\n    p.rect(0,0, p.width, p.height)\r\n  }\r\n\r\n  p.windowResized = () => {\r\n    p.resizeCanvas(p.windowWidth, p.windowHeight)\r\n    demo8Shader.setUniform('u_resolution', [p.windowWidth, p.windowHeight])\r\n  }\r\n\r\n  toggleAudio = () => {\r\n    if (audio.isPlaying()) {\r\n      audio.pause()\r\n    } else {\r\n      audio.loop()\r\n    }\r\n  }\r\n};\r\n\r\nnew p5(s)"],"names":["s","p","demo8Shader","img","fft","d_map","audio","toggleBtn","preload","loadSound","loadShader","loadImage","setup","playBtn","document","querySelector","addEventListener","body","classList","add","loop","pixelDensity","createCanvas","windowWidth","windowHeight","WEBGL","toggle","this","toggleAudio","p5","FFT","shader","setUniform","width","height","draw","analyze","bass","getEnergy","treble","mid","mapBass","map","mapTremble","mapMid","frameCount","rect","windowResized","resizeCanvas","isPlaying","pause"],"version":3,"file":"index8.0436d110.js.map"}