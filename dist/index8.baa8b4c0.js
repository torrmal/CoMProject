const s=e=>{let t,i,o,n,d,s;e.preload=()=>{d=e.loadSound("audio/demo9.mp3?a=1"),t=e.loadShader("shaders/base.vert","shaders/d2.frag"),i=e.loadImage("img/11.png?a=1"),n=e.loadImage("img/clouds.jpg")},e.setup=()=>{playBtn=document.querySelector("#play-btn"),playBtn.addEventListener("click",(()=>{document.body.classList.add("start-anim"),d.loop(),setTimeout(window.loadAllMan,20200)})),e.pixelDensity(1),e.createCanvas(e.windowWidth,e.windowHeight,e.WEBGL),s=document.querySelector("#toggle-btn"),s.addEventListener("click",(()=>{s.classList.toggle("toggle--on"),this.toggleAudio()})),o=new p5.FFT,e.shader(t),t.setUniform("u_resolution",[e.windowWidth,e.windowHeight]),t.setUniform("d_map",n),t.setUniform("u_texture",i),t.setUniform("u_tResolution",[i.width,i.height])},e.draw=()=>{o.analyze();const i=o.getEnergy("bass"),n=o.getEnergy("treble"),d=o.getEnergy("mid"),s=e.map(i,0,255,5,10),a=e.map(n,0,255,0,0),r=e.map(d,0,255,0,.1);t.setUniform("u_time",e.frameCount/20),t.setUniform("u_bass",s),t.setUniform("u_tremble",a),t.setUniform("u_mid",r),e.rect(0,0,e.width,e.height)},e.windowResized=()=>{e.resizeCanvas(e.windowWidth,e.windowHeight),t.setUniform("u_resolution",[e.windowWidth,e.windowHeight])},toggleAudio=()=>{d.isPlaying()?d.pause():d.loop()}};new p5(s);
//# sourceMappingURL=index8.baa8b4c0.js.map
