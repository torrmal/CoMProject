{"mappings":"AAoEA,IAAIA,IApEOC,IACT,IAAIC,EAAaC,EAAKC,EAAKC,EAAOC,EAAOC,EAEzCN,EAAEO,QAAU,KACVF,EAAQL,EAAEQ,UAAU,uBACpBP,EAAcD,EAAES,WAAW,oBAAqB,mBAChDP,EAAMF,EAAEU,UAAU,kBAClBN,EAAQJ,EAAEU,UAAU,mBAGtBV,EAAEW,MAAQ,KACNC,QAAUC,SAASC,cAAc,aACjCF,QAAQG,iBAAiB,SAAS,KAChCF,SAASG,KAAKC,UAAUC,IAAI,cAC1Bb,EAAMc,MAAI,IAGdnB,EAAEoB,aAAa,GACfpB,EAAEqB,aAAarB,EAAEsB,YAAatB,EAAEuB,aAAcvB,EAAEwB,OAEhDlB,EAAYO,SAASC,cAAc,eACnCR,EAAUS,iBAAiB,SAAS,KAClCT,EAAUW,UAAUQ,OAAO,cAC3BC,2CAAA,IAGFvB,EAAM,IAAIJ,GAAG4B,IACb3B,EAAE4B,OAAO3B,GAETA,EAAY4B,WAAW,eAAgB,CAAC7B,EAAEsB,YAAatB,EAAEuB,eACzDtB,EAAY4B,WAAW,QAASzB,GAChCH,EAAY4B,WAAW,YAAa3B,GACpCD,EAAY4B,WAAW,gBAAiB,CAAC3B,EAAI4B,MAAO5B,EAAI6B,QAAO,EAGnE/B,EAAEgC,KAAO,KACP7B,EAAI8B,UAEJ,MAAMC,EAAU/B,EAAIgC,UAAU,QACxBC,EAAUjC,EAAIgC,UAAU,UACxBE,EAAUlC,EAAIgC,UAAU,OAExBG,EAActC,EAAEuC,IAAIL,EAAM,EAAG,IAAK,EAAG,IACrCM,EAAcxC,EAAEuC,IAAIH,EAAQ,EAAG,IAAK,EAAG,GACvCK,EAAczC,EAAEuC,IAAIF,EAAK,EAAG,IAAK,EAAK,IAE5CpC,EAAY4B,WAAW,SAAU7B,EAAE0C,WAAa,IAChDzC,EAAY4B,WAAW,SAAUS,GACjCrC,EAAY4B,WAAW,YAAaW,GACpCvC,EAAY4B,WAAW,QAASY,GAEhCzC,EAAE2C,KAAK,EAAE,EAAG3C,EAAE8B,MAAO9B,EAAE+B,OAAM,EAG/B/B,EAAE4C,cAAgB,KAChB5C,EAAE6C,aAAa7C,EAAEsB,YAAatB,EAAEuB,cAChCtB,EAAY4B,WAAW,eAAgB,CAAC7B,EAAEsB,YAAatB,EAAEuB,cAAa,EAGxEuB,YAAc,KACRzC,EAAM0C,YACR1C,EAAM2C,QAEN3C,EAAMc,MAAI,CAEd","sources":["src/js/demo8.js"],"sourcesContent":["const s = (p) => {\r\n  let demo8Shader, img, fft, d_map, audio, toggleBtn\r\n\r\n  p.preload = () => {\r\n    audio = p.loadSound('audio/demo9.mp3?a=1')\r\n    demo8Shader = p.loadShader('shaders/base.vert', 'shaders/d2.frag')\r\n    img = p.loadImage('img/11.png?a=1')\r\n    d_map = p.loadImage('img/clouds.jpg')\r\n  }\r\n\r\n  p.setup = () => {\r\n      playBtn = document.querySelector('#play-btn')\r\n      playBtn.addEventListener('click', () => {\r\n        document.body.classList.add('start-anim')\r\n          audio.loop()\r\n      })\r\n\r\n      p.pixelDensity(1)\r\n      p.createCanvas(p.windowWidth, p.windowHeight, p.WEBGL)\r\n\r\n      toggleBtn = document.querySelector('#toggle-btn')\r\n      toggleBtn.addEventListener('click', () => {\r\n        toggleBtn.classList.toggle('toggle--on')\r\n        this.toggleAudio()\r\n      })\r\n\r\n      fft = new p5.FFT()\r\n      p.shader(demo8Shader)\r\n\r\n      demo8Shader.setUniform('u_resolution', [p.windowWidth, p.windowHeight])\r\n      demo8Shader.setUniform('d_map', d_map)\r\n      demo8Shader.setUniform('u_texture', img)\r\n      demo8Shader.setUniform('u_tResolution', [img.width, img.height])\r\n  }\r\n\r\n  p.draw = () => {\r\n    fft.analyze()\r\n\r\n    const bass    = fft.getEnergy(\"bass\")\r\n    const treble  = fft.getEnergy(\"treble\")\r\n    const mid     = fft.getEnergy(\"mid\")\r\n\r\n    const mapBass     = p.map(bass, 0, 255, 5, 10.0)\r\n    const mapTremble  = p.map(treble, 0, 255, 0, 0.0)\r\n    const mapMid      = p.map(mid, 0, 255, 0.0, 0.1)\r\n\r\n    demo8Shader.setUniform('u_time', p.frameCount / 20)\r\n    demo8Shader.setUniform('u_bass', mapBass)\r\n    demo8Shader.setUniform('u_tremble', mapTremble)\r\n    demo8Shader.setUniform('u_mid', mapMid)\r\n\r\n    p.rect(0,0, p.width, p.height)\r\n  }\r\n\r\n  p.windowResized = () => {\r\n    p.resizeCanvas(p.windowWidth, p.windowHeight)\r\n    demo8Shader.setUniform('u_resolution', [p.windowWidth, p.windowHeight])\r\n  }\r\n\r\n  toggleAudio = () => {\r\n    if (audio.isPlaying()) {\r\n      audio.pause()\r\n    } else {\r\n      audio.loop()\r\n    }\r\n  }\r\n};\r\n\r\nnew p5(s)"],"names":["p5","p","demo8Shader","img","fft","d_map","audio","toggleBtn","preload","loadSound","loadShader","loadImage","setup","playBtn","document","querySelector","addEventListener","body","classList","add","loop","pixelDensity","createCanvas","windowWidth","windowHeight","WEBGL","toggle","$f3c18625efe7ae85$export$33e09eb5ece94f1a","FFT","shader","setUniform","width","height","draw","analyze","bass","getEnergy","treble","mid","mapBass","map","mapTremble","mapMid","frameCount","rect","windowResized","resizeCanvas","toggleAudio","isPlaying","pause"],"version":3,"file":"index8.2c433793.js.map"}