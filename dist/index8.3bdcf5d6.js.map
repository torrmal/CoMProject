{"mappings":"AAAA,MAAMA,EAAKC,IACT,IAAIC,EAAaC,EAAKC,EAAKC,EAAOC,EAAOC,EAEzCN,EAAEO,QAAU,KACVF,EAAQL,EAAEQ,UAAU,uBACpBP,EAAcD,EAAES,WAAW,oBAAqB,mBAChDP,EAAMF,EAAEU,UAAU,kBAClBN,EAAQJ,EAAEU,UAAU,mBAGtBV,EAAEW,MAAQ,KACNC,QAAUC,SAASC,cAAc,aACjCF,QAAQG,iBAAiB,SAAS,KAChCF,SAASG,KAAKC,UAAUC,IAAI,cAC1Bb,EAAMc,OACNC,OAAOC,YAAU,IAGrBrB,EAAEsB,aAAa,GACftB,EAAEuB,aAAavB,EAAEwB,YAAaxB,EAAEyB,aAAczB,EAAE0B,OAEhDpB,EAAYO,SAASC,cAAc,eACnCR,EAAUS,iBAAiB,SAAS,KAClCT,EAAUW,UAAUU,OAAO,cAC3BC,KAAKC,aAAW,IAGlB1B,EAAM,IAAI2B,GAAGC,IACb/B,EAAEgC,OAAO/B,GAETA,EAAYgC,WAAW,eAAgB,CAACjC,EAAEwB,YAAaxB,EAAEyB,eACzDxB,EAAYgC,WAAW,QAAS7B,GAChCH,EAAYgC,WAAW,YAAa/B,GACpCD,EAAYgC,WAAW,gBAAiB,CAAC/B,EAAIgC,MAAOhC,EAAIiC,QAAO,EAGnEnC,EAAEoC,KAAO,KACPjC,EAAIkC,UAEJ,MAAMC,EAAUnC,EAAIoC,UAAU,QACxBC,EAAUrC,EAAIoC,UAAU,UACxBE,EAAUtC,EAAIoC,UAAU,OAExBG,EAAc1C,EAAE2C,IAAIL,EAAM,EAAG,IAAK,EAAG,IACrCM,EAAc5C,EAAE2C,IAAIH,EAAQ,EAAG,IAAK,EAAG,GACvCK,EAAc7C,EAAE2C,IAAIF,EAAK,EAAG,IAAK,EAAK,IAE5CxC,EAAYgC,WAAW,SAAUjC,EAAE8C,WAAa,IAChD7C,EAAYgC,WAAW,SAAUS,GACjCzC,EAAYgC,WAAW,YAAaW,GACpC3C,EAAYgC,WAAW,QAASY,GAEhC7C,EAAE+C,KAAK,EAAE,EAAG/C,EAAEkC,MAAOlC,EAAEmC,OAAM,EAG/BnC,EAAEgD,cAAgB,KAChBhD,EAAEiD,aAAajD,EAAEwB,YAAaxB,EAAEyB,cAChCxB,EAAYgC,WAAW,eAAgB,CAACjC,EAAEwB,YAAaxB,EAAEyB,cAAa,EAGxEI,YAAc,KACRxB,EAAM6C,YACR7C,EAAM8C,QAEN9C,EAAMc,MAAI,CAEd,EAGF,IAAIW,GAAG/B","sources":["src/js/demo8.js"],"sourcesContent":["const s = (p) => {\r\n  let demo8Shader, img, fft, d_map, audio, toggleBtn\r\n\r\n  p.preload = () => {\r\n    audio = p.loadSound('audio/demo9.mp3?a=1')\r\n    demo8Shader = p.loadShader('shaders/base.vert', 'shaders/d2.frag')\r\n    img = p.loadImage('img/11.png?a=1')\r\n    d_map = p.loadImage('img/clouds.jpg')\r\n  }\r\n\r\n  p.setup = () => {\r\n      playBtn = document.querySelector('#play-btn')\r\n      playBtn.addEventListener('click', () => {\r\n        document.body.classList.add('start-anim')\r\n          audio.loop();\r\n          window.loadAllMan();\r\n      })\r\n\r\n      p.pixelDensity(1)\r\n      p.createCanvas(p.windowWidth, p.windowHeight, p.WEBGL)\r\n\r\n      toggleBtn = document.querySelector('#toggle-btn')\r\n      toggleBtn.addEventListener('click', () => {\r\n        toggleBtn.classList.toggle('toggle--on')\r\n        this.toggleAudio()\r\n      })\r\n\r\n      fft = new p5.FFT()\r\n      p.shader(demo8Shader)\r\n\r\n      demo8Shader.setUniform('u_resolution', [p.windowWidth, p.windowHeight])\r\n      demo8Shader.setUniform('d_map', d_map)\r\n      demo8Shader.setUniform('u_texture', img)\r\n      demo8Shader.setUniform('u_tResolution', [img.width, img.height])\r\n  }\r\n\r\n  p.draw = () => {\r\n    fft.analyze()\r\n\r\n    const bass    = fft.getEnergy(\"bass\")\r\n    const treble  = fft.getEnergy(\"treble\")\r\n    const mid     = fft.getEnergy(\"mid\")\r\n\r\n    const mapBass     = p.map(bass, 0, 255, 5, 10.0)\r\n    const mapTremble  = p.map(treble, 0, 255, 0, 0.0)\r\n    const mapMid      = p.map(mid, 0, 255, 0.0, 0.1)\r\n\r\n    demo8Shader.setUniform('u_time', p.frameCount / 20)\r\n    demo8Shader.setUniform('u_bass', mapBass)\r\n    demo8Shader.setUniform('u_tremble', mapTremble)\r\n    demo8Shader.setUniform('u_mid', mapMid)\r\n\r\n    p.rect(0,0, p.width, p.height)\r\n  }\r\n\r\n  p.windowResized = () => {\r\n    p.resizeCanvas(p.windowWidth, p.windowHeight)\r\n    demo8Shader.setUniform('u_resolution', [p.windowWidth, p.windowHeight])\r\n  }\r\n\r\n  toggleAudio = () => {\r\n    if (audio.isPlaying()) {\r\n      audio.pause()\r\n    } else {\r\n      audio.loop()\r\n    }\r\n  }\r\n};\r\n\r\nnew p5(s)"],"names":["s","p","demo8Shader","img","fft","d_map","audio","toggleBtn","preload","loadSound","loadShader","loadImage","setup","playBtn","document","querySelector","addEventListener","body","classList","add","loop","window","loadAllMan","pixelDensity","createCanvas","windowWidth","windowHeight","WEBGL","toggle","this","toggleAudio","p5","FFT","shader","setUniform","width","height","draw","analyze","bass","getEnergy","treble","mid","mapBass","map","mapTremble","mapMid","frameCount","rect","windowResized","resizeCanvas","isPlaying","pause"],"version":3,"file":"index8.3bdcf5d6.js.map"}